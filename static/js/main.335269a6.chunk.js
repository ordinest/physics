(this["webpackJsonpspectral-elements"]=this["webpackJsonpspectral-elements"]||[]).push([[0],{11:function(e,t,n){e.exports=n(25)},23:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(8),i=n.n(a),c=n(3),l=n(10),s=function(e){var t=e.sources,n=void 0===t?{}:t,r=e.height,a=void 0===r?"2.5rem":r,i=e.onChangeSource,c=e.gratings,s=void 0===c?{}:c,g=e.onChangeGrating,h=e.currentScreenDistance,u=e.minScreenDistance,m=e.maxScreenDistance,d=e.onChangeScreenDistance,p=Object(l.a)({toolbarStyle:{height:"".concat(a),padding:"2px",color:"white",background:"black",zIndex:"100"},itemStyle:{display:"flex",flexDirection:"row",gap:"0.25rem"},labelStyle:{fontWeight:"bold"},selectStyle:{background:"black",color:"white"}})();return o.a.createElement("div",{className:p.toolbarStyle},o.a.createElement("form",{onSubmit:function(e){return e.preventDefault()},style:{display:"flex",flexFlow:"row",gap:"2rem",justifyContent:"center",alignItems:"center",height:"100%",width:"100%"}},o.a.createElement("div",{className:p.itemStyle},o.a.createElement("label",{htmlFor:"source",className:p.labelStyle},o.a.createElement("span",null,"Source")),o.a.createElement("select",{className:p.selectStyle,id:"source",onChange:function(e){return i(n[e.target.value])}},Object.keys(n).map((function(e){return o.a.createElement("option",{value:e,key:e},n[e].name)})))),o.a.createElement("div",{className:p.itemStyle},o.a.createElement("label",{htmlFor:"grating",className:p.labelStyle},o.a.createElement("span",null,"Grating")),o.a.createElement("select",{className:p.selectStyle,id:"grating",onChange:function(e){return g(s[e.target.value])}},Object.keys(s).map((function(e){return o.a.createElement("option",{value:e,key:e},s[e].name)})))),o.a.createElement("div",{className:p.itemStyle},o.a.createElement("label",{htmlFor:"distance",className:p.labelStyle},o.a.createElement("span",null,"Screen Distance (",h," mm)")),o.a.createElement("input",{type:"range",id:"distance",min:u,max:m,step:"1",defaultValue:h,onChange:function(e){return d(e.target.value)}}))))};n(23);function g(e){var t,n,r,o;return e>=380&&e<440?(t=-1*(e-440)/60,n=0,r=1):e>=440&&e<490?(t=0,n=(e-440)/50,r=1):e>=490&&e<510?(t=0,n=1,r=-1*(e-510)/20):e>=510&&e<580?(t=(e-510)/70,n=1,r=0):e>=580&&e<645?(t=1,n=-1*(e-645)/65,r=0):e>=645&&e<=780?(t=1,n=0,r=0):(t=0,n=0,r=0),["rgba("+100*t+"%,"+100*n+"%,"+100*r+"%, "+(o=e>780||e<380?0:e>700?(780-e)/80:e<420?(e-380)/40:1)+")",t,n,r,o]}function h(e,t,n){return e*t/Math.sqrt(n*n-t*t)}var u,m=function(e){var t=e.screenDistance,n=e.gratingSpacing,r=e.coordinates,a=e.height,i=e.width,c=e.lines.map((function(e){return{wavelength:e,height:h(t,e,n),color:g(e)[0]}})),l={position:"absolute",height:"".concat(a),width:"100%",border:"none",background:"black"},s=function(e){var t=e.color,n=e.height;return o.a.createElement("div",{style:{position:"absolute",top:"50%",width:"100%",transform:"translateY(".concat(-(n+1),"px)"),height:"2px",display:"flex",flexDirection:"row",alignItems:"center",gap:"4px"}},o.a.createElement("div",{style:{width:"100%",height:"2px",margin:"0 2%",background:t}}))};return o.a.createElement("div",{style:{position:"absolute",display:"flex",flexDirection:"row",width:"".concat(i,"%"),height:"100%",left:"".concat(r.x,"%"),top:"".concat(r.y,"%"),transform:"translateY(-50%)"}},o.a.createElement("div",{style:l},o.a.createElement("div",{style:{position:"absolute",height:"100%",width:"100%",left:0,top:0,borderLeft:"1px solid white",borderRight:"1px solid white",boxSizing:"border-box"}}),o.a.createElement(s,{color:"white",height:0}),c.map((function(e,t){return o.a.createElement(o.a.Fragment,{key:t},o.a.createElement(s,{color:e.color,height:e.height}),o.a.createElement(s,{color:e.color,height:-e.height}))}))))},d=function(e){var t=e.coordinates,n=void 0===t?{x:0,y:0}:t;return o.a.createElement("div",{style:{position:"absolute",left:"".concat(n.x,"%"),top:"".concat(n.y,"%"),transform:"translateY(-50%) translateX(-50%)"}},e.children)},p=function(e){var t=e.coordinates,n=e.color,r=e.border,a=e.glow;return o.a.createElement(d,{coordinates:t},o.a.createElement("div",{className:"source",style:{height:"14px",width:"14px",borderRadius:"50%",background:"".concat(n),borderColor:"".concat(r),boxShadow:"".concat(a," 0 0 12px 12px")}}))},y=function(e){var t=e.coordinates,n=void 0===t?{x:0,y:0}:t;return o.a.createElement(d,{coordinates:n},o.a.createElement("div",{className:"grate",style:{width:"4px",height:"400px",background:"gray"}}))},b=function(e){var t=e.coordinates,n=e.sourceCoordinates,r=e.screenCoordinates,a=e.screenHeight,i=e.screenDistance,c=e.gratePosition,l=e.diffractionSpacing,s={position:"absolute",top:"".concat(t.x,"%"),transform:"translateY(-50%)",width:"100%",height:"".concat(a,"px"),stroke:"white",strokeDasharray:"4px"},u={position:"absolute",left:"".concat(n.x,"%"),width:"".concat(c-n.x,"%"),height:"100%"},m={position:"absolute",right:"".concat(100-r.x,"%"),width:"".concat(r.x-c,"%"),height:"100%"};return o.a.createElement("div",{style:s},o.a.createElement("svg",{style:u},o.a.createElement("line",{x1:"0",y1:"50%",x2:"100%",y2:"50%"})),o.a.createElement("svg",{style:m},o.a.createElement("line",{x1:"100%",y1:"50%",x2:"0",y2:"50%"}),e.lines.map((function(e){return o.a.createElement(o.a.Fragment,{key:e},o.a.createElement("line",{x1:"100%",y1:"".concat((a/2-h(i,e,l))/a*100,"%"),x2:"0",y2:"50%",style:{stroke:g(e)[0]}}),o.a.createElement("line",{x1:"100%",y1:"".concat(100-(a/2-h(i,e,l))/a*100,"%"),x2:"0",y2:"50%",style:{stroke:g(e)[0]}}))}))))},f=function(e){var t=e.screenDistance,n=e.gratingSpacing,r=e.coordinates,a=(e.height,e.width),i=e.lines,c=i.map((function(e){return{wavelength:e,height:h(t,e,n),positionHeight:h(t,e,n),color:g(e)}}));c.sort((function(e,t){return e.height-t.height})),function(e,t){if(t.length<=1)return null;var n=Math.floor(t.length/2),r=t[n].positionHeight-t[n-1].positionHeight;r-e<0&&(t[n].positionHeight=t[n].positionHeight+(e-r)/2,t[n-1].positionHeight=t[n-1].positionHeight-(e-r)/2);for(var o=n;o<t.length-1;o++){var a=t[o+1].positionHeight-t[o].positionHeight;if(a-e<0){var i=t[o].positionHeight-t[o-1].positionHeight,c=Math.min(Math.max(0,e-i),(e-a)/2);t[o].positionHeight=t[o].positionHeight+c,t[o+1].positionHeight=t[o+1].positionHeight+(e-a+c)}}for(var l=n-1;l>0;l--){var s=t[l].positionHeight-t[l-1].positionHeight;if(s-e<0){var g=t[l+1].positionHeight-t[l].positionHeight,h=Math.min(Math.max(0,g-e),(e-s)/2);t[l].positionHeight=t[l].positionHeight+h,t[l-1].positionHeight=t[l-1].positionHeight-(e-s-h)}}}(13.2,c);var l={position:"absolute",height:"100%",width:"".concat(a,"%"),left:"".concat(r.x,"%"),top:"".concat(r.y,"%"),transform:"translateY(-50%)"},s=function(e){var t=e.color,n=e.height,r=e.positionHeight;return o.a.createElement("span",{style:{position:"absolute",top:"50%",width:"100%",transform:"translateY(".concat(-(r+1),"px)"),color:t,lineHeight:"2px",paddingLeft:"4px",fontSize:"".concat(.825,"rem")}},Math.round(10*n)/10,"mm")};return o.a.createElement("div",{style:l},o.a.createElement(s,{color:"white",height:0}),c.map((function(e){return o.a.createElement(o.a.Fragment,{key:e.wavelength},o.a.createElement(s,{color:e.color[0],height:e.height,positionHeight:e.positionHeight}),o.a.createElement(s,{color:e.color[0],height:-e.height,positionHeight:-e.positionHeight}))})))},x=function(e){var t=e.source,n=e.height,r=e.grating,a=e.screenDistance,i=e.minScreenDistance,c=n,l=60-20*(a-i)/(e.maxScreenDistance-i),s={position:"absolute",height:"".concat(n,"px"),width:"100%",overflow:"hidden"};return o.a.createElement("div",{className:"workbench",style:s},o.a.createElement(p,{coordinates:{x:10,y:50},color:t.sourceColor,border:t.sourceBorder,glow:t.sourceGlow}),o.a.createElement(y,{coordinates:{x:l,y:50}}),o.a.createElement(b,{sourceCoordinates:{x:10,y:50},screenCoordinates:{x:85,y:50},screenHeight:c,screenDistance:a,diffractionSpacing:r.period,coordinates:{x:50,y:50},gratePosition:l,lines:t.lines}),o.a.createElement(m,{coordinates:{x:85,y:50},height:"".concat(c,"px"),width:8,sourceColor:t.sourceColor,screenDistance:a,gratingSpacing:r.period,lines:t.lines}),o.a.createElement(f,{coordinates:{x:93,y:50},height:"".concat(c,"px"),width:7,screenDistance:a,gratingSpacing:r.period,lines:t.lines}))},E=n(5),v=n(6),w=function(){var e=Object(r.useState)(E.hydrogen),t=Object(c.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)(v[0]),l=Object(c.a)(i,2),g=l[0],h=l[1],u=Object(r.useState)(400),m=Object(c.a)(u,2),d=m[0],p=m[1],y=[200,800];return o.a.createElement("div",null,o.a.createElement(s,{sources:E,height:"".concat("40","px"),onChangeSource:function(e){return a(e)},gratings:v,currentGrating:g,onChangeGrating:function(e){return h(e)},currentScreenDistance:d,minScreenDistance:y[0],maxScreenDistance:y[1],onChangeScreenDistance:function(e){return p(e)}}),o.a.createElement(x,{source:n,height:"".concat(window.innerHeight-"40"-16),grating:g,screenDistance:d,minScreenDistance:y[0],maxScreenDistance:y[1]}))},S=function(){return o.a.createElement("div",null,o.a.createElement(w,null))},H=(n(24),document.getElementById("root"));u=S,i.a.render(o.a.createElement(u,null),H)},5:function(e){e.exports=JSON.parse('{"hydrogen":{"name":"Hydrogen","sourceColor":"rgb(244,241,243)","sourceBorder":"rgb(255,53,137)","sourceGlow":"rgb(255,0,68)","lines":[656.3,486.1,434,410.2]},"calcium":{"name":"Calcium","sourceColor":"rgb(255,255,255)","sourceBorder":"rgb(251,173,99)","sourceGlow":"rgb(255,54,10)","lines":[430.8,396.8,393.4]},"mercury":{"name":"Mercury","sourceColor":"rgb(255,252,252)","sourceBorder":"rgb(5,216,255)","sourceGlow":"rgb(104,175,221)","lines":[577,546.1,435.8]},"sodium":{"name":"Sodium","sourceColor":"rgb(245,255,245)","sourceBorder":"rgb(299,255,0)","sourceGlow":"rgb(299,255,0)","lines":[589.3]},"mystery alpha":{"name":"Mystery Alpha","sourceColor":"rgb(244,241,243)","sourceBorder":"rgb(255,53,137)","sourceGlow":"rgb(255,0,68)","lines":[656.3,486.1,434,410.2]},"mystery beta":{"name":"Mystery Beta","sourceColor":"rgb(255,252,252)","sourceBorder":"rgb(5,216,255)","sourceGlow":"rgb(104,175,221)","lines":[577,546.1,435.8]},"mix":{"name":"Mix","sourceColor":"rgb(253,248,248)","sourceBorder":"rgb(200,200,200)","sourceGlow":"rgb(242,100,80)","lines":[656.3,486.1,434,410.2,577,546.1,435.8,589.3]}}')},6:function(e){e.exports=JSON.parse('{"0":{"name":"A","period":1220},"1":{"name":"B","period":1550},"2":{"name":"C","period":1660},"3":{"name":"D","period":1880}}')}},[[11,1,2]]]);
//# sourceMappingURL=main.335269a6.chunk.js.map